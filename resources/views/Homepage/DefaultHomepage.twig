{% import "Ceres::PageDesign.Macros.LayoutContainer" as LayoutContainer %}
{% import "Ceres::PageDesign.Macros.ItemName" as ItemName %}

{{ component( "Ceres::ItemList.Components.ItemList") }}
{{ component( "Ceres::ItemList.Components.CategoryImageCarousel") }}
{{ component( "Ceres::Basket.Components.AddToBasket" ) }}

{% set category1 = services.category.get(config("CeresColorful.homepage.homepageCategory1"), lang) %}
{% set categoryList1 = services.itemList.getItemList("category", category1.id, "variation.position_desc", 12).documents %}

{% set homepageHeadline  = config("CeresColorful.homepage.homepageHeadline") %}
{% set homepageSubline  = config("CeresColorful.homepage.homepageSubline") %}

{% set homepageImageFirstSlide  = config("CeresColorful.homepage.homepageImageFirstSlide") %}
{% set homepageProductLinkFirstSlide  = config("CeresColorful.homepage.homepageProductLinkFirstSlide") %}
{% set homepageProductNameFirstSlide  = config("CeresColorful.homepage.homepageProductNameFirstSlide") %}

{% set homepageImageSecondSlide  = config("CeresColorful.homepage.homepageImageSecondSlide") %}
{% set homepageProductLinkSecondSlide  = config("CeresColorful.homepage.homepageProductLinkSecondSlide") %}
{% set homepageProductNameSecondSlide  = config("CeresColorful.homepage.homepageProductNameSecondSlide") %}

{% set homepageImageThirdSlide  = config("CeresColorful.homepage.homepageImageThirdSlide") %}
{% set homepageProductLinkThirdSlide  = config("CeresColorful.homepage.homepageProductLinkThirdSlide") %}
{% set homepageProductNameThirdSlide = config("CeresColorful.homepage.homepageProductNameThirdSlide") %}

<div class="home container-max">
       <div class="row">
                <div class="cmp cmp-hero">
                   <div class="hero-main m-b-0">
                        <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner" role="listbox">
                                <div class="carousel-item active">
                                    <a class="hero-category" href="{{ homepageProductLinkFirstSlide }}">
                                       <img src="{{ homepageImageFirstSlide }}" alt="{{ homepageProductNameFirstSlide }}" class="img-fluid">
                                    </a>
                                </div>
                                <div class="carousel-item">
                                    <a class="hero-category" href="{{ homepageProductLinkSecondSlide }}">
                                       <img src="{{ homepageImageSecondSlide }}" alt="{{ homepageProductNameSecondSlide }}" class="img-fluid">
                                    </a>
                                </div>
                                {% if homepageImageThirdSlide != '' %}
                                    <div class="carousel-item">
                                       <a class="hero-category" href="{{ homepageProductLinkThirdSlide }}">
                                            <img src="{{ homepageImageThirdSlide }}" alt="{{ homepageProductNameThirdSlide }}" class="img-fluid">
                                       </a>
                                    </div>
                                {% endif %}
                            </div>

                            <ol class="carousel-indicators">
                                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                                <li data-target="#carousel-example-generic" data-slide-to="1" class=""></li>
                                <li data-target="#carousel-example-generic" data-slide-to="2" class=""></li>
                            </ol>

                            <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                                <span class="icon-prev" aria-hidden="true"></span>
                                <span class="sr-only">Zurück</span>
                            </a>

                            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                                <span class="icon-next" aria-hidden="true"></span>
                                <span class="sr-only">Nächste</span>
                            </a>

                        </div>
                   </div>
                </div>
            </div>


       <div class="row page-content">
              <div class="mb-3 px-3">
                     <h2 class="text-uppercase font-weight-bold">{{ category1.details[0].name }}</h2>
              </div>
              <div class="col-12 col-lg-12">
                     {% if categoryList1 | length > 4 %}
                                   <div class="list-item-carousel owl-carousel owl-theme list-carousel-first">
                                          {% for item in categoryList1 %}
                                          <li class="col-12 px-0">
                                                <category-item
                                                    :item-data="{{ item.data | json_encode }}"
                                                    :decimal-count="{{ decimalCount }}">
                                                    <template slot="BeforePrices">{{ LayoutContainer.show("Ceres::CategoryItem.BeforePrices", item.data) }}</template>
                                                    <template slot="AfterPrices">{{ LayoutContainer.show("Ceres::CategoryItem.AfterPrices", item.data) }}</template>
                                                </category-item>
                                            </li>
                                          {% endfor %}
                                   </div>
                            {% else %}
                            <div class="row no-carousel">
                                   {% for item in categoryList1 %}
                                   <li class="col-12 col-sm-4 px-2">
                                         <category-item
                                             :item-data="{{ item.data | json_encode }}"
                                             :decimal-count="{{ decimalCount }}">
                                             <template slot="BeforePrices">{{ LayoutContainer.show("Ceres::CategoryItem.BeforePrices", item.data) }}</template>
                                             <template slot="AfterPrices">{{ LayoutContainer.show("Ceres::CategoryItem.AfterPrices", item.data) }}</template>
                                         </category-item>
                                     </li>
                                     {% endfor %}
                            </div>
                     {% endif %}
              </div>
       </div>
</div>
